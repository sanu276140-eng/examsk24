<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - examsk24.online</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="admin-style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-storage-compat.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <i class="fas fa-lock"></i>
                <h2>Admin Login</h2>
                <p>examsk24.online Control Panel</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn-login">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
                <div id="loginError" class="error-message"></div>
            </form>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-container" style="display: none;">
        <!-- Mobile Header -->
        <header class="admin-header">
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="admin-logo">
                <i class="fas fa-cog"></i>
                <span>Admin Panel</span>
            </div>
            <div class="admin-user">
                <span id="userEmail"></span>
                <button class="btn-logout" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <!-- Mobile Sidebar -->
        <nav class="admin-sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>Dashboard</h3>
            </div>
            <ul class="sidebar-menu">
                <li>
                    <a href="#" class="active" data-section="dashboard">
                        <i class="fas fa-tachometer-alt"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="questions">
                        <i class="fas fa-question-circle"></i>
                        <span>Manage Questions</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="tests">
                        <i class="fas fa-file-alt"></i>
                        <span>Manage Tests</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="categories">
                        <i class="fas fa-list-alt"></i>
                        <span>Categories</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="users">
                        <i class="fas fa-users"></i>
                        <span>Users</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="analytics">
                        <i class="fas fa-chart-bar"></i>
                        <span>Analytics</span>
                    </a>
                </li>
                <li>
                    <a href="#" data-section="settings">
                        <i class="fas fa-cogs"></i>
                        <span>Settings</span>
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="admin-content">
            <!-- Dashboard -->
            <section id="dashboard" class="content-section active">
                <div class="section-header">
                    <h2>Dashboard Overview</h2>
                    <p>Welcome to examsk24.online Admin Panel</p>
                </div>
                
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-question-circle"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalQuestions">0</h3>
                            <p>Total Questions</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalTests">0</h3>
                            <p>Total Tests</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalUsers">0</h3>
                            <p>Total Users</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="todayAttempts">0</h3>
                            <p>Today's Attempts</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-section">
                    <h3>Recent Activity</h3>
                    <div class="activity-list" id="recentActivity">
                        <!-- Activity items will be loaded here -->
                    </div>
                </div>
            </section>

            <!-- Manage Questions -->
            <section id="questions" class="content-section">
                <div class="section-header">
                    <h2>Manage Questions</h2>
                    <button class="btn-add" id="addQuestionBtn">
                        <i class="fas fa-plus"></i> Add Question
                    </button>
                </div>
                
                <div class="questions-list" id="questionsList">
                    <!-- Questions will be loaded here -->
                </div>
            </section>

            <!-- Manage Tests -->
            <section id="tests" class="content-section">
                <div class="section-header">
                    <h2>Manage Tests</h2>
                    <button class="btn-add" id="addTestBtn">
                        <i class="fas fa-plus"></i> Add Test
                    </button>
                </div>
                
                <div class="tests-grid" id="testsGrid">
                    <!-- Tests will be loaded here -->
                </div>
            </section>

            <!-- Other sections will follow similar pattern -->
        </main>
    </div>

    <!-- Modals -->
    <div id="questionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add/Edit Question</h3>
                <button class="modal-close">&times;</button>
            </div>
            <form id="questionForm" class="modal-form">
                <input type="hidden" id="questionId">
                <div class="form-group">
                    <label>Category</label>
                    <select id="questionCategory" required>
                        <option value="">Select Category</option>
                        <option value="ccc">CCC</option>
                        <option value="banking">Banking</option>
                        <option value="ssc">SSC</option>
                        <option value="gk">GK</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Question</label>
                    <textarea id="questionText" rows="3" required></textarea>
                </div>
                <div class="options-grid">
                    <div class="form-group">
                        <label>Option A</label>
                        <input type="text" id="optionA" required>
                    </div>
                    <div class="form-group">
                        <label>Option B</label>
                        <input type="text" id="optionB" required>
                    </div>
                    <div class="form-group">
                        <label>Option C</label>
                        <input type="text" id="optionC" required>
                    </div>
                    <div class="form-group">
                        <label>Option D</label>
                        <input type="text" id="optionD" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Correct Answer</label>
                    <select id="correctAnswer" required>
                        <option value="">Select Correct Option</option>
                        <option value="A">Option A</option>
                        <option value="B">Option B</option>
                        <option value="C">Option C</option>
                        <option value="D">Option D</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Explanation</label>
                    <textarea id="explanation" rows="2"></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-save">Save Question</button>
                    <button type="button" class="btn-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyBftJD6pWrx5hAwEr3ep_S8NeqeiHQrCF4",
  authDomain: "examsk24.firebaseapp.com",
  projectId: "examsk24",
  storageBucket: "examsk24.firebasestorage.app",
  messagingSenderId: "569555436896",
  appId: "1:569555436896:web:bd3671f9d3c32daf6e4a05"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Initialize services
const auth = firebase.auth();
const db = firebase.firestore();
const storage = firebase.storage();
    </script>
    <script>
        // Admin authentication
const adminEmails = [
  "sanu276140@gmail.com",
  "supersanu276140@gmail.com"
];

// Check if user is admin
function checkAdminAuth() {
  auth.onAuthStateChanged(user => {
    if (user && adminEmails.includes(user.email)) {
      showAdminPanel();
    } else {
      showLoginForm();
    }
  });
}

// Admin login
function adminLogin(email, password) {
  return auth.signInWithEmailAndPassword(email, password)
    .then(userCredential => {
      if (adminEmails.includes(userCredential.user.email)) {
        return userCredential.user;
      } else {
        throw new Error("Not an admin user");
      }
    });
}

// Logout
function adminLogout() {
  return auth.signOut();
}
    </script>
    <script src="admin-panel.js"></script>
</body>
</html>